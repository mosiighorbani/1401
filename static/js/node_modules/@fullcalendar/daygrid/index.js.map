{"version":3,"file":"index.js","sources":["../src/TableDateProfileGenerator.ts","../src/index.ts"],"sourcesContent":["import {\n  DateProfileGenerator,\n  addWeeks, diffWeeks,\n  DateRange,\n} from '@fullcalendar/core/internal'\n\nexport class TableDateProfileGenerator extends DateProfileGenerator {\n  // Computes the date range that will be rendered.\n  buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay): DateRange {\n    let { dateEnv } = this.props\n    let renderRange = super.buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay)\n    let start = renderRange.start\n    let end = renderRange.end\n    let endOfWeek\n\n    // year and month views should be aligned with weeks. this is already done for week\n    if (/^(year|month)$/.test(currentRangeUnit)) {\n      start = dateEnv.startOfWeek(start)\n\n      // make end-of-week if not already\n      endOfWeek = dateEnv.startOfWeek(end)\n      if (endOfWeek.valueOf() !== end.valueOf()) {\n        end = addWeeks(endOfWeek, 1)\n      }\n    }\n\n    // ensure 6 weeks\n    if (\n      this.props.monthMode &&\n      this.props.fixedWeekCount\n    ) {\n      let rowCnt = Math.ceil( // could be partial weeks due to hiddenDays\n        diffWeeks(start, end),\n      )\n      end = addWeeks(end, 6 - rowCnt)\n    }\n\n    return { start, end }\n  }\n}\n","import { createPlugin, PluginDef } from '@fullcalendar/core'\nimport { DayTableView } from './DayTableView.js'\nimport { TableDateProfileGenerator } from './TableDateProfileGenerator.js'\nimport './index.css'\n\nexport default createPlugin({\n  name: '<%= pkgName %>',\n  initialView: 'dayGridMonth',\n  views: {\n    dayGrid: {\n      component: DayTableView,\n      dateProfileGeneratorClass: TableDateProfileGenerator,\n    },\n    dayGridDay: {\n      type: 'dayGrid',\n      duration: { days: 1 },\n    },\n    dayGridWeek: {\n      type: 'dayGrid',\n      duration: { weeks: 1 },\n    },\n    dayGridMonth: {\n      type: 'dayGrid',\n      duration: { months: 1 },\n      monthMode: true,\n      fixedWeekCount: true,\n    },\n  },\n}) as PluginDef\n"],"names":[],"mappings":";;;;;AAMM,MAAO,yBAA0B,SAAQ,oBAAoB,CAAA;;AAEjE,IAAA,gBAAgB,CAAC,YAAY,EAAE,gBAAgB,EAAE,aAAa,EAAA;AAC5D,QAAA,IAAI,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC,KAAK,CAAA;AAC5B,QAAA,IAAI,WAAW,GAAG,KAAK,CAAC,gBAAgB,CAAC,YAAY,EAAE,gBAAgB,EAAE,aAAa,CAAC,CAAA;AACvF,QAAA,IAAI,KAAK,GAAG,WAAW,CAAC,KAAK,CAAA;AAC7B,QAAA,IAAI,GAAG,GAAG,WAAW,CAAC,GAAG,CAAA;AACzB,QAAA,IAAI,SAAS,CAAA;;AAGb,QAAA,IAAI,gBAAgB,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAAE;AAC3C,YAAA,KAAK,GAAG,OAAO,CAAC,WAAW,CAAC,KAAK,CAAC,CAAA;;AAGlC,YAAA,SAAS,GAAG,OAAO,CAAC,WAAW,CAAC,GAAG,CAAC,CAAA;YACpC,IAAI,SAAS,CAAC,OAAO,EAAE,KAAK,GAAG,CAAC,OAAO,EAAE,EAAE;AACzC,gBAAA,GAAG,GAAG,QAAQ,CAAC,SAAS,EAAE,CAAC,CAAC,CAAA;AAC7B,aAAA;AACF,SAAA;;AAGD,QAAA,IACE,IAAI,CAAC,KAAK,CAAC,SAAS;AACpB,YAAA,IAAI,CAAC,KAAK,CAAC,cAAc,EACzB;AACA,YAAA,IAAI,MAAM,GAAG,IAAI,CAAC,IAAI;AACpB,YAAA,SAAS,CAAC,KAAK,EAAE,GAAG,CAAC,CACtB,CAAA;YACD,GAAG,GAAG,QAAQ,CAAC,GAAG,EAAE,CAAC,GAAG,MAAM,CAAC,CAAA;AAChC,SAAA;AAED,QAAA,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,CAAA;KACtB;AACF;;;;;AClCD,YAAe,YAAY,CAAC;AAC1B,IAAA,IAAI,EAAE,uBAAgB;AACtB,IAAA,WAAW,EAAE,cAAc;AAC3B,IAAA,KAAK,EAAE;AACL,QAAA,OAAO,EAAE;AACP,YAAA,SAAS,EAAE,YAAY;AACvB,YAAA,yBAAyB,EAAE,yBAAyB;AACrD,SAAA;AACD,QAAA,UAAU,EAAE;AACV,YAAA,IAAI,EAAE,SAAS;AACf,YAAA,QAAQ,EAAE,EAAE,IAAI,EAAE,CAAC,EAAE;AACtB,SAAA;AACD,QAAA,WAAW,EAAE;AACX,YAAA,IAAI,EAAE,SAAS;AACf,YAAA,QAAQ,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE;AACvB,SAAA;AACD,QAAA,YAAY,EAAE;AACZ,YAAA,IAAI,EAAE,SAAS;AACf,YAAA,QAAQ,EAAE,EAAE,MAAM,EAAE,CAAC,EAAE;AACvB,YAAA,SAAS,EAAE,IAAI;AACf,YAAA,cAAc,EAAE,IAAI;AACrB,SAAA;AACF,KAAA;AACF,CAAA,CAAc;;;;"}